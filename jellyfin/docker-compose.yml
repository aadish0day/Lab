# version: '3.8'

services:
  jellyfin:
    image: jellyfin/jellyfin
    container_name: jellyfin
    user: 1000:1000  # Change to your user:group ID
    network_mode: host  # Optional: use host networking for better discovery
    # If not using host mode, uncomment ports below:
    # ports:
    #   - "8096:8096"
    #   - "8920:8920"  # Optional: HTTPS
    #   - "7359:7359/udp"  # Optional: local network discovery
    #   - "1900:1900/udp"  # Optional: DLNA
    volumes:
      - ./config:/config
      - ./cache:/cache
      - /run/media/aadish/New Volume/Videos/Torrent/:/media  # Change to your media directory
    restart: unless-stopped
    # environment:
    #   - JELLYFIN_PublishedServerUrl=http://your-server-ip:8096  # Optional: for external access
    # Optional: hardware acceleration (uncomment for your setup)
    # devices:
    #   - /dev/dri:/dev/dri  # Intel Quick Sync / VAAPI
    #   - /dev/dvb:/dev/dvb  # TV tuns
    devices:
      - /dev/dri:/dev/dri
    group_add:
      - "988"
